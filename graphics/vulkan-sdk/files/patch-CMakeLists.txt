--- CMakeLists.txt.orig	2017-08-10 15:50:41 UTC
+++ CMakeLists.txt
@@ -15,8 +15,8 @@ string(TOLOWER ${API_NAME} API_LOWERCASE)
 set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_CURRENT_SOURCE_DIR}/cmake")
 find_package(PythonInterp 3 REQUIRED)
 
-if(CMAKE_SYSTEM_NAME STREQUAL "Linux")
-    set(FALLBACK_CONFIG_DIRS "/etc/xdg" CACHE STRING
+if(UNIX AND NOT APPLE)
+    set(FALLBACK_CONFIG_DIRS "${CMAKE_INSTALL_PREFIX}/etc/xdg:/etc/xdg" CACHE STRING
         "Search path to use when XDG_CONFIG_DIRS is unset or empty or the current process is SUID/SGID. Default is freedesktop compliant.")
     set(FALLBACK_DATA_DIRS "/usr/local/share:/usr/share" CACHE STRING
         "Search path to use when XDG_DATA_DIRS is unset or empty or the current process is SUID/SGID. Default is freedesktop compliant.")
@@ -30,10 +30,12 @@ if(CMAKE_SYSTEM_NAME STREQUAL "Linux")
 
     if (BUILD_WSI_XCB_SUPPORT)
         find_package(XCB REQUIRED)
+        include_directories(SYSTEM ${XCB_INCLUDE_DIR})
     endif()
 
     if (BUILD_WSI_XLIB_SUPPORT)
         find_package(X11 REQUIRED)
+        include_directories(SYSTEM ${X11_Xlib_INCLUDE_PATH})
     endif()
 
     if (BUILD_WSI_WAYLAND_SUPPORT)
